<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaminero ni Etaw</title>
    <link rel="stylesheet" href="Kaminero_Ni_Etaw.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  </head>

  <body>

    <header class="navbar">
        <div class="container">
            <h2>Sample Header</h2>
        </div>
    </header>

    <section class="header">
        <a href="Environment.html" title="Back to Home" class="home-icon-overlay">
            <i class="fas fa-home"></i>
        </a>    
    </section>

    <section class="information">
      <h2 class="info-title">Kaminero <span>ni Etaw</span></h2>
      <p class="info-description">
        Cean-Up Drives is regularly organized by Kaminero ni Etaw as a means to <span> keep the 
        neighborhood clean </span> and deal with typical problems like flooding and waste buildup.
        <br><br>
        <span>Every Saturday</span>, these drives primarily concentrate on cleaning manholes, drainage systems, 
        canals, and rivers, particularly in areas that are vulnerable to flooding.
        <br><br>
        These efforts promote <span>community health and safety</span> while inspiring
        local residents to actively participate in environmental stewardship.
      </p>
    </section>

    <section class="slider-container">

      <div class="slider-images">
        <div class="slider-img">
          <img src="/Photos/Canal Declogging.jpg" alt="Canal Declogging"/>
          <h1>Canal Declogging</h1>
          <div class="details">
            <h2>Canal Declogging</h2>
            <div class="learn-more-btn" 
                role="button" 
                tabindex="0"
                data-title="Canal Declogging"
                data-text="The Kaminero ni Etaw performs daily canal cleaning, even when the canals aren’t blocked. They remove trash, hardened grease (from restaurants), and dried soil to prevent blockages that cause floods. This task is vital in Tagapo, where clogged canals are a major concern during the rainy season."
                data-images='["Environment Photos/CleanUpDrivePhoto/Canal Declogging/1.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/2.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/3.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/4.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/5.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/6.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/7.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Canal Declogging/8.jpg"]'>
              Learn More
            </div>
          </div>
        </div>

        <div class="slider-img">
          <img src="/Photos/Creek Declogging.jpg" alt="Creek Declogging"/>
          <h1>Creek Declogging</h1>
          <div class="details">
            <h2>Creek Declogging</h2>
            <div class="learn-more-btn" 
                role="button" 
                tabindex="0"
                data-title="Creek Declogging"
                data-text="The team clears out trash, mud, and other debris from creeks to ensure water flows properly and doesn’t overflow during heavy rains. This reduces flooding and keeps water systems functioning smoothly."
                data-images='["Environment Photos/CleanUpDrivePhoto/Creek Declogging/1.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/2.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/3.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/4.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/5.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/6.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/7.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Creek Declogging/8.jpg"]'>
              Learn More
            </div>
          </div>
        </div>

        <div class="slider-img active">
          <img src="/Photos/Clean-Up Drive.jpg" alt="Clean-Up Drive"/>
          <h1>Clean-Up Drive</h1>
          <div class="details">
            <h2>Clean-Up Drive</h2>
            <div class="learn-more-btn" 
                role="button" 
                tabindex="0"
                data-title="Clean-Up Drive"
                data-text="Every Saturday, the Kaminero ni Etaw leads scheduled clean-up drives across streets, drainage systems, and rivers. These drives promote a cleaner environment, improve sanitation, and encourage community participation in protecting the local ecosystem."
                data-images='["Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/1.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/2.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/3.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/4.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/5.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/6.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/7.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Clean-Up Drive/8.jpg"]'>
              Learn More
            </div>
          </div>
        </div>

        <div class="slider-img ">
          <img src="/Photos/Irrigation.jpg" alt="Irrigational Canal"/>
          <h1>Irrigational Canal</h1>
          <div class="details">
            <h2>Irrigational Canal</h2>
            <div class="learn-more-btn" 
                role="button" 
                tabindex="0"
                data-title="Irrigational Canal"
                data-text="The Kaminero ni Etaw team also ensures that irrigational canals remain clear and functional. By removing soil buildup, waste, and blockages, the team supports consistent water flow - helping sustain plant growth, reduce erosion, and maintain food gardens within Tagapo."
                data-images='["Environment Photos/CleanUpDrivePhoto/Irrigational Canal/1.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/2.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/3.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/4.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/5.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/6.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/7.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Irrigational Canal/8.jpg"]'>
              Learn More
            </div>
          </div>
        </div>

        <div class="slider-img">
          <img src="/Photos/Grass Cutting.jpg" alt="Grass Cutting"/>
          <h1>Grass Cutting</h1>
          <div class="details">
            <h2>Grass Cutting</h2>
            <div class="learn-more-btn" 
                role="button" 
                tabindex="0"
                data-title="Grass Cutting"
                data-text="The Kaminero ni Etaw team regularly conducts grass cutting in public areas to maintain cleanliness, visibility, and safety in the community.  This activity helps prevent hazards, improves the appearance of surroundings, and supports dengue prevention by removing potential mosquito habitats."
                data-images='["Environment Photos/CleanUpDrivePhoto/Grass Cutting/1.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/2.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/3.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/4.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/5.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/6.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/7.jpg", 
                              "Environment Photos/CleanUpDrivePhoto/Grass Cutting/8.jpg"]'>
              Learn More
            </div>
          </div>
        </div>

      </div>
    </section>

    <section class="expanded-dropdown">
      <div class="dropdown-inner container">
        <div class="dropdown-left">
          <h3 id="dropdown-title"></h3>
          <p id="dropdown-text"></p>
        </div>
        <div class="dropdown-right">
          <div class="photos-arrows">
            <span class="arrow left" role="button" tabindex="0">&#10094;</span>
            <span class="arrow right" role="button" tabindex="0">&#10095;</span>
          </div>

          <div class="carousel-wrapper">
            <div class="carousel-images" id="dropdown-carousel">
              
            </div>
          </div>
        
        </div>
      </div>

      <div class="collapse-container">
        <div class="collapse-btn" role="button" tabindex="0">Collapse</div>
      </div>
    </section>


    <footer class="navbar">
        <div class="container">
            <h2>Sample Footer</h2>
        </div>
      </footer>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        let carouselIndex = 0;
        let totalImages = 0;
        let carouselImages = [];
        let activeButton = null;

        const dropdown = document.querySelector('.expanded-dropdown');
        const dropdownTitle = document.getElementById('dropdown-title');
        const dropdownText = document.getElementById('dropdown-text');
        const carouselContainer = document.getElementById('dropdown-carousel');

        function updateCarousel() {
          const container = document.querySelector('.carousel-wrapper');
          const imageWidth = container.offsetWidth;
          carouselContainer.style.transform = `translateX(-${carouselIndex * imageWidth}px)`;
        }

        function populateDropdown(button) {
          const title = button.dataset.title;
          const text = button.dataset.text;
          const images = JSON.parse(button.dataset.images || '[]');

          dropdownTitle.textContent = title;
          dropdownText.textContent = text;

          carouselContainer.innerHTML = '';
          images.forEach(src => {
            const img = document.createElement('img');
            img.src = src;
            img.alt = '';
            carouselContainer.appendChild(img);
          });

          carouselIndex = 0;
          totalImages = images.length;
          carouselImages = carouselContainer.children;

          updateCarousel();
        }

        function openDropdown() {
          dropdown.classList.add('active');
          setTimeout(() => {
            window.scrollTo({
              top: document.body.scrollHeight,
              behavior: 'smooth'
            });
          }, 250);
        }

        function closeDropdown() {
          dropdown.classList.remove('active');
        }

        document.querySelectorAll('.learn-more-btn').forEach(button => {
          button.addEventListener('click', () => {
            if (activeButton === button && dropdown.classList.contains('active')) {
              closeDropdown();
              activeButton = null;
              return;
            }

            closeDropdown();
            setTimeout(() => {
              populateDropdown(button);
              openDropdown();
              activeButton = button;
            }, 300);
          });
        });

        document.querySelector('.collapse-btn').addEventListener('click', () => {
          closeDropdown();
          activeButton = null;
        });

        document.querySelectorAll('.arrow').forEach(btn => {
          btn.addEventListener('click', () => {
            if (btn.classList.contains('right') && carouselIndex < totalImages - 1) {
              carouselIndex++;
              updateCarousel();
            } else if (btn.classList.contains('left') && carouselIndex > 0) {
              carouselIndex--;
              updateCarousel();
            }
          });
        });
      });

      document.querySelectorAll('.slider-img').forEach(slide => {
        slide.addEventListener('click', () => {
          document.querySelectorAll('.slider-img').forEach(s => s.classList.remove('active'));
          slide.classList.add('active');

          const learnMoreBtn = slide.querySelector('.learn-more-btn');
          if (learnMoreBtn && !document.querySelector('.expanded-dropdown').classList.contains('active')) {
            setTimeout(() => {
              learnMoreBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 170);
          }
        });
      });
    </script>
  </body>
</html>